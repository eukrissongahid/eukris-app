<div class='ttp-container'>
  <button type='button' class='open-track-widget ttp-open-button' aria-label='Track This Product'>
    <svg
      xmlns='http://www.w3.org/2000/svg'
      class='ttp-icon'
      fill='none'
      viewBox='0 0 24 24'
      stroke='currentColor'
    >
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M15 17h5l-1.405-1.405C18.79 14.79 19 13.91 19 13V9a7 7 0 10-14 0v4c0 .91.21 1.79.595 2.595L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
    </svg>
  </button>
</div>

<div id='track-widget-template' class='ttp-hidden'>
  <div class='ttp-modal-overlay'>
    <div id='ttp-loading-spinner' class='ttp-spinner-overlay ttp-hidden'>
      <div class='ttp-spinner'></div>
    </div>

    <div class='ttp-modal-box'>
      <button type='button' class='ttp-close-button' aria-label='Close Modal'>Ã—</button>
      <h2 class='ttp-modal-title'>Track This Product</h2>
      <form id='track-form' class='ttp-form'>
        <label class='ttp-checkbox-label'>
          <input type='checkbox' name='trackInStock' class='ttp-checkbox'> Back in Stock
        </label>

        <label class='ttp-checkbox-label'>
          <input type='checkbox' name='trackOnSale' class='ttp-checkbox'> On Sale
        </label>

        <div class='ttp-inline-group'>
          <label class='ttp-checkbox-label'>
            <input type='checkbox' name='trackBelowThreshold' class='ttp-checkbox'> Price below:
          </label>
          <input
            type='number'
            min='0'
            value='0'
            name='saleThreshold'
            pattern='[0-9]*'
            class='ttp-input-number'
            disabled
          >
        </div>

        <div class='ttp-inline-group'>
          <label class='ttp-checkbox-label'>
            <input type='checkbox' name='trackLowStock' class='ttp-checkbox'> Low Stock Alert:
          </label>
          <input
            type='number'
            min='0'
            value='0'
            name='lowStockLevel'
            pattern='[0-9]*'
            class='ttp-input-number'
            disabled
          >
        </div>

        <label class='ttp-checkbox-label'>
          <input type='checkbox' name='trackNewVariant' class='ttp-checkbox'> New Variant
        </label>

        <input
          type='email'
          name='email'
          required
          value='{{ customer.email | default: '' }}'
          placeholder='Your email'
          class='ttp-input-email'
        >

        <input type='hidden' name='productId' value='{{ product.id }}'>
        <input type='hidden' name='variantId' value=''>

        <input type='hidden' name='userId' value='{{ customer.id | default: 'guest' }}'>

        <div class='ttp-form-actions'>
          <button type='button' class='ttp-untrack-button' disabled>Untrack</button>
          <button type='submit' class='ttp-submit-button' disabled>Track</button>
        </div>
      </form>
    </div>
  </div>
</div>
